Режим записи/воспроизведения изменяется с помощью флага REPLAY в freertos.c.  

При записи по ethernet передаются прикладные команды, информация о них помещается в буфер. По uart возможно передать команду для сохранения текущей сессии в энергонезависимую память.  

При воспроизведении данные о ранее переданных командах загружаются из флеш памяти и воспроизводятся в соответствии с временными метками.
 
